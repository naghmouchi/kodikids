{% load static %}
<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tutoriel Scratch ‚Äî Kodikids</title>
  <link rel="stylesheet" href="{% static 'email_api/css/style.css' %}">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üò∫</text></svg>">
  <style>
    .tutorial-section { margin-bottom: 4rem; padding: 20px 0; }
    .tutorial-section h1, .tutorial-section h2 { color: #0b1724; margin-bottom: 1rem; }
    .lead { font-size: 1.2rem; color: #555; max-width: 800px; }
    
    /* Components Grid */
    .component-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 24px; margin-top: 30px; }
    .component-card { 
      background: white; padding: 24px; border-radius: 16px; 
      box-shadow: 0 4px 12px rgba(0,0,0,0.05); transition: all 0.3s ease; 
      cursor: pointer; border: 2px solid transparent; text-align: center;
    }
    .component-card:hover { transform: translateY(-5px); border-color: #ffab19; box-shadow: 0 8px 20px rgba(255, 171, 25, 0.25); }
    .component-icon { font-size: 3.5rem; margin-bottom: 16px; display: block; }
    .component-card h3 { margin: 0; font-size: 1.1rem; font-weight: 700; color: #333; }

    /* Detail Box */
    #comp-detail { 
      margin-top: 30px; padding: 30px; background: #fffbf0; 
      border-radius: 16px; border-left: 5px solid #ffab19; 
      display: none; animation: fadeIn 0.4s ease;
    }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* Coding Playground */
    .code-playground { 
      background: #f9f9f9; padding: 20px; border-radius: 16px; 
      margin-top: 20px; box-shadow: inset 0 2px 10px rgba(0,0,0,0.05); border: 1px solid #eee;
    }
    .block-container { display: flex; flex-direction: column; gap: 10px; align-items: flex-start; max-width: 300px; margin: 0 auto; }
    
    /* Scratch Block Styles */
    .block-btn { 
      border: none; padding: 10px 15px; border-radius: 4px; 
      cursor: pointer; font-weight: 600; font-size: 0.9rem; color: white;
      transition: transform 0.1s; box-shadow: 0 2px 0 rgba(0,0,0,0.1);
      text-align: left; width: 100%; position: relative;
      display: flex; align-items: center;
    }
    .block-btn::before { content: ''; width: 10px; height: 10px; background: inherit; position: absolute; top: -5px; left: 10px; clip-path: polygon(0 0, 100% 0, 80% 100%, 20% 100%); }
    .block-btn::after { content: ''; width: 10px; height: 10px; background: white; position: absolute; bottom: -5px; left: 10px; clip-path: polygon(0 0, 100% 0, 80% 100%, 20% 100%); opacity: 0.3; }
    
    .block-btn:active { transform: translateY(2px); box-shadow: none; }
    .block-btn:hover { filter: brightness(1.1); }
    
    .btn-motion { background-color: #4c97ff; border: 1px solid #3373cc; }
    .btn-looks { background-color: #9966ff; border: 1px solid #774dcb; }
    .btn-events { background-color: #ffbf00; border: 1px solid #cc9900; }
    .btn-control { background-color: #ffab19; border: 1px solid #cf8b17; }
    .btn-reset { background-color: #ff5e57; margin-top: 10px; text-align: center; justify-content: center; }
    .btn-reset::before, .btn-reset::after { display: none; }

    /* Simulation Area */
    .simulation-area { 
      background: #ffffff; height: 350px; border-radius: 16px; 
      position: relative; overflow: hidden; border: 2px solid #e0e0e0; 
      margin-top: 24px; display: flex; align-items: center; justify-content: center;
      background-image: radial-gradient(#e0e0e0 1px, transparent 1px);
      background-size: 20px 20px;
    }
    
    .sprite-cat {
        font-size: 60px; position: absolute; transition: all 0.5s ease;
        user-select: none; cursor: pointer;
    }
    .speech-bubble {
        position: absolute; top: -50px; left: 50px; background: white; border: 2px solid #333;
        padding: 5px 10px; border-radius: 10px; font-size: 14px; white-space: nowrap;
        display: none;
    }
    .speech-bubble::after {
        content: ''; position: absolute; bottom: -6px; left: 10px;
        width: 10px; height: 10px; background: white; border-bottom: 2px solid #333; border-right: 2px solid #333;
        transform: rotate(45deg);
    }

    /* Quiz Styles */
    .quiz-container { background: white; padding: 24px; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); margin-top: 20px; }
    .quiz-question { margin-bottom: 24px; border-bottom: 1px solid #eee; padding-bottom: 20px; }
    .quiz-question:last-child { border-bottom: none; padding-bottom: 0; }
    .question-text { font-weight: 700; font-size: 1.1rem; margin-bottom: 12px; color: #2d3436; }
    .quiz-opt { 
      display: block; width: 100%; text-align: left; padding: 12px 15px; 
      margin-bottom: 8px; border: 2px solid #e0e0e0; border-radius: 8px; 
      background: white; cursor: pointer; transition: all 0.2s; font-size: 1rem;
    }
    .quiz-opt:hover { border-color: #ffab19; background: #fffbf0; }
    .quiz-opt.correct { border-color: #00b894; background: #e6fffa; color: #006652; pointer-events: none; }
    .quiz-opt.wrong { border-color: #d63031; background: #ffecec; color: #d63031; }
    .feedback { font-size: 0.95rem; margin-top: 8px; font-weight: 600; min-height: 1.2em; }
  </style>
</head>
<body>
  <header>
    {% include "email_api/_header.html" %}
  </header>

  <main class="container" id="main">
    
    <!-- Hero Section -->
    <section class="tutorial-section">
      <h1 data-lang-key="pageTitle" style="font-size: 2.5rem; font-weight: 800;">Apprendre Scratch</h1>
      <p class="lead" data-lang-key="pageDesc">Scratch est un langage de programmation visuel cr√©√© par le MIT. Il permet de cr√©er des histoires interactives, des jeux et des animations en assemblant des blocs color√©s.</p>
    </section>

    <!-- Components Section -->
    <section class="tutorial-section">
      <h2 data-lang-key="compTitle">Les concepts de base</h2>
      <p data-lang-key="compDesc">Cliquez sur un √©l√©ment pour comprendre son r√¥le.</p>
      
      <div class="component-grid">
        <div class="component-card" onclick="showDetail('sprite')">
          <span class="component-icon">üò∫</span>
          <h3 data-lang-key="compSprite">Lutins (Sprites)</h3>
        </div>
        <div class="component-card" onclick="showDetail('blocks')">
          <span class="component-icon">üß©</span>
          <h3 data-lang-key="compBlocks">Blocs de code</h3>
        </div>
        <div class="component-card" onclick="showDetail('stage')">
          <span class="component-icon">üé≠</span>
          <h3 data-lang-key="compStage">La Sc√®ne (Stage)</h3>
        </div>
        <div class="component-card" onclick="showDetail('scripts')">
          <span class="component-icon">üìú</span>
          <h3 data-lang-key="compScripts">Scripts</h3>
        </div>
      </div>

      <div id="comp-detail">
        <h3 id="detail-title" style="margin-top:0; font-size: 1.5rem;"></h3>
        <p id="detail-desc" style="margin-bottom:15px; line-height: 1.6;"></p>
        
        <div style="margin-bottom: 15px; padding: 15px; background: #fff; border-radius: 8px; border: 1px solid #e0e0e0;">
            <strong data-lang-key="usageTitle" style="color: #ffab19; display:block; margin-bottom:5px;">Comment l'utiliser ?</strong>
            <p id="detail-usage" style="margin:0; color: #333;"></p>
        </div>

        <div style="padding-top: 15px; border-top: 2px dashed #cbd5e0;">
            <strong data-lang-key="realLifeTitle" style="color: #ffab19; display:block; margin-bottom:5px;">Dans la vraie vie :</strong>
            <p id="detail-real-life" style="margin:0; color: #555; font-style: italic;"></p>
        </div>
      </div>
    </section>

    <!-- Coding Section -->
    <section class="tutorial-section">
      <h2 data-lang-key="codeTitle">Studio Scratch</h2>
      <p data-lang-key="codeDesc">Assemble des blocs pour contr√¥ler le chat. Clique sur les blocs ci-dessous pour voir l'effet imm√©diat !</p>

      <div style="display: flex; flex-wrap: wrap; gap: 20px;">
        <div class="code-playground" style="flex: 1; min-width: 250px;">
            <div class="block-container">
            <button class="block-btn btn-events" onclick="runCommand('flag')" data-lang-key="btnFlag">üèÅ Quand drapeau vert press√©</button>
            <button class="block-btn btn-motion" onclick="runCommand('move')" data-lang-key="btnMove">Avancer de 50 pas</button>
            <button class="block-btn btn-motion" onclick="runCommand('turn')" data-lang-key="btnTurn">Tourner de 15 degr√©s</button>
            <button class="block-btn btn-looks" onclick="runCommand('say')" data-lang-key="btnSay">Dire "Bonjour !" pendant 2s</button>
            <button class="block-btn btn-control" onclick="runCommand('loop')" data-lang-key="btnLoop">R√©p√©ter 4 fois (Danse)</button>
            <button class="block-btn btn-reset" onclick="runCommand('reset')" data-lang-key="btnReset">R√©initialiser</button>
            </div>
        </div>

        <div class="simulation-area" style="flex: 2; min-width: 300px;">
            <div id="cat" class="sprite-cat">
                üò∫
                <div class="speech-bubble" id="bubble">Bonjour !</div>
            </div>
        </div>
      </div>
    </section>

    <!-- Project Ideas Section -->
    <section class="tutorial-section">
      <h2 data-lang-key="projectTitle">Id√©es de projets</h2>
      <p data-lang-key="projectDesc">Commence par des projets simples et amusants.</p>
      
      <div class="component-grid">
        <div class="component-card" style="cursor: default;">
          <span class="component-icon">üèÉ</span>
          <h3 data-lang-key="projChaseTitle">Jeu de Poursuite</h3>
          <p data-lang-key="projChaseDesc" style="font-size: 0.9rem; color: #666; margin-top: 10px;">Fais bouger le chat avec les fl√®ches pour attraper une souris.</p>
        </div>
        <div class="component-card" style="cursor: default;">
          <span class="component-icon">üíÉ</span>
          <h3 data-lang-key="projDanceTitle">F√™te de la Danse</h3>
          <p data-lang-key="projDanceDesc" style="font-size: 0.9rem; color: #666; margin-top: 10px;">Anime plusieurs personnages sur de la musique.</p>
        </div>
        <div class="component-card" style="cursor: default;">
          <span class="component-icon">üìñ</span>
          <h3 data-lang-key="projStoryTitle">Histoire Interactive</h3>
          <p data-lang-key="projStoryDesc" style="font-size: 0.9rem; color: #666; margin-top: 10px;">Cr√©e un dialogue entre deux personnages o√π le joueur choisit la fin.</p>
        </div>
      </div>
    </section>

    <!-- Quiz Section -->
    <section class="tutorial-section">
      <h2 data-lang-key="quizTitle">Quiz : Scratch Master ?</h2>
      <div class="quiz-container">
        <div class="quiz-question" id="q1">
          <p class="question-text" data-lang-key="q1Text">Quelle couleur ont les blocs de "Mouvement" ?</p>
          <button class="quiz-opt" onclick="checkAnswer(this, true)" data-lang-key="q1Opt1">Bleu</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q1Opt2">Violet</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q1Opt3">Orange</button>
          <p class="feedback"></p>
        </div>
        <div class="quiz-question" id="q2">
          <p class="question-text" data-lang-key="q2Text">Que fait le bloc "R√©p√©ter ind√©finiment" ?</p>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q2Opt1">Il arr√™te le programme</button>
          <button class="quiz-opt" onclick="checkAnswer(this, true)" data-lang-key="q2Opt2">Il ex√©cute le code √† l'int√©rieur pour toujours</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q2Opt3">Il r√©p√®te une seule fois</button>
          <p class="feedback"></p>
        </div>
      </div>
    </section>

  </main>

  <footer>
    <div class="container">
      <span data-lang-key="footerText">¬© Play & Learn ‚Äî Enseignement de la programmation, des robots et de l'IA</span>
    </div>
  </footer>

  <script>
    const translations = {
      en: {
        pageTitle: "Learn Scratch",
        pageDesc: "Scratch is a visual programming language created by MIT. It allows you to create interactive stories, games, and animations by assembling colorful blocks.",
        compTitle: "Basic Concepts",
        compDesc: "Click on an item to understand its role.",
        compSprite: "Sprites",
        compBlocks: "Code Blocks",
        compStage: "The Stage",
        compScripts: "Scripts",
        codeTitle: "Scratch Studio",
        codeDesc: "Assemble blocks to control the cat. Click the blocks below to see the immediate effect!",
        footerText: "¬© Play & Learn ‚Äî Teaching programming, robotics, and AI",
        realLifeTitle: "In Real Life:",
        usageTitle: "How to use it?",
        detailSpriteTitle: "Sprites",
        detailSpriteDesc: "Characters or objects in your project. The default sprite is the Scratch Cat.",
        detailSpriteUsage: "You can draw your own, upload photos, or choose from the library.",
        detailSpriteReal: "Like actors in a movie or characters in a video game.",
        detailBlocksTitle: "Code Blocks",
        detailBlocksDesc: "Puzzle pieces that snap together to give instructions. Colors indicate category (Blue=Motion, Purple=Looks).",
        detailBlocksUsage: "Drag them from the palette to the coding area.",
        detailBlocksReal: "Lines of code in Python or Java, but visual.",
        detailStageTitle: "The Stage",
        detailStageDesc: "The background area where the action happens. It has X and Y coordinates.",
        detailStageUsage: "Change backdrops to set the scene (Forest, Space, Bedroom).",
        detailStageReal: "The screen of your phone or computer monitor.",
        detailScriptsTitle: "Scripts",
        detailScriptsDesc: "A stack of connected blocks. A script usually starts with an Event block (like 'When Green Flag Clicked').",
        detailScriptsUsage: "Combine blocks to make a sprite walk, jump, and talk.",
        detailScriptsReal: "A complete computer program or app.",
        projectTitle: "Project Ideas",
        projectDesc: "Start with simple and fun projects.",
        projChaseTitle: "Chase Game",
        projChaseDesc: "Move the cat with arrows to catch a mouse.",
        projDanceTitle: "Dance Party",
        projDanceDesc: "Animate multiple characters to music.",
        projStoryTitle: "Interactive Story",
        projStoryDesc: "Create a dialogue between two characters where the player chooses the ending.",
        btnFlag: "üèÅ When green flag clicked",
        btnMove: "Move 50 steps",
        btnTurn: "Turn 15 degrees",
        btnSay: "Say 'Hello!' for 2s",
        btnLoop: "Repeat 4 times (Dance)",
        btnReset: "Reset",
        quizTitle: "Quiz: Scratch Master?",
        q1Text: "What color are 'Motion' blocks?",
        q1Opt1: "Blue",
        q1Opt2: "Purple",
        q1Opt3: "Orange",
        q2Text: "What does the 'Forever' block do?",
        q2Opt1: "It stops the program",
        q2Opt2: "It runs the code inside forever",
        q2Opt3: "It repeats only once",
        quizCorrect: "Correct! üéâ",
        quizWrong: "Try again! ‚ùå"
      },
      fr: {
        pageTitle: "Apprendre Scratch",
        pageDesc: "Scratch est un langage de programmation visuel cr√©√© par le MIT. Il permet de cr√©er des histoires interactives, des jeux et des animations en assemblant des blocs color√©s.",
        compTitle: "Les concepts de base",
        compDesc: "Cliquez sur un √©l√©ment pour comprendre son r√¥le.",
        compSprite: "Lutins (Sprites)",
        compBlocks: "Blocs de code",
        compStage: "La Sc√®ne (Stage)",
        compScripts: "Scripts",
        codeTitle: "Studio Scratch",
        codeDesc: "Assemble des blocs pour contr√¥ler le chat. Clique sur les blocs ci-dessous pour voir l'effet imm√©diat !",
        footerText: "¬© Play & Learn ‚Äî Enseignement de la programmation, des robots et de l'IA",
        realLifeTitle: "Dans la vraie vie :",
        usageTitle: "Comment l'utiliser ?",
        detailSpriteTitle: "Lutins (Sprites)",
        detailSpriteDesc: "Les personnages ou objets de ton projet. Le lutin par d√©faut est le Chat Scratch.",
        detailSpriteUsage: "Tu peux dessiner les tiens, importer des photos ou choisir dans la biblioth√®que.",
        detailSpriteReal: "Comme les acteurs dans un film ou les persos de jeu vid√©o.",
        detailBlocksTitle: "Blocs de code",
        detailBlocksDesc: "Des pi√®ces de puzzle qui s'embo√Ætent pour donner des ordres. Les couleurs indiquent la cat√©gorie (Bleu=Mouvement, Violet=Apparence).",
        detailBlocksUsage: "Glisse-les de la palette vers la zone de code.",
        detailBlocksReal: "Des lignes de code en Python ou Java, mais visuelles.",
        detailStageTitle: "La Sc√®ne (Stage)",
        detailStageDesc: "L'arri√®re-plan o√π se d√©roule l'action. Elle a des coordonn√©es X et Y.",
        detailStageUsage: "Change les arri√®re-plans pour changer de d√©cor (For√™t, Espace, Chambre).",
        detailStageReal: "L'√©cran de ton t√©l√©phone ou moniteur d'ordinateur.",
        detailScriptsTitle: "Scripts",
        detailScriptsDesc: "Une pile de blocs connect√©s. Un script commence souvent par un bloc √âv√©nement (comme 'Quand drapeau vert press√©').",
        detailScriptsUsage: "Combine des blocs pour faire marcher, sauter et parler un lutin.",
        detailScriptsReal: "Un programme informatique complet ou une application.",
        projectTitle: "Id√©es de projets",
        projectDesc: "Commence par des projets simples et amusants.",
        projChaseTitle: "Jeu de Poursuite",
        projChaseDesc: "Fais bouger le chat avec les fl√®ches pour attraper une souris.",
        projDanceTitle: "F√™te de la Danse",
        projDanceDesc: "Anime plusieurs personnages sur de la musique.",
        projStoryTitle: "Histoire Interactive",
        projStoryDesc: "Cr√©e un dialogue entre deux personnages o√π le joueur choisit la fin.",
        btnFlag: "üèÅ Quand drapeau vert press√©",
        btnMove: "Avancer de 50 pas",
        btnTurn: "Tourner de 15 degr√©s",
        btnSay: "Dire 'Bonjour !' pendant 2s",
        btnLoop: "R√©p√©ter 4 fois (Danse)",
        btnReset: "R√©initialiser",
        quizTitle: "Quiz : Scratch Master ?",
        q1Text: "Quelle couleur ont les blocs de 'Mouvement' ?",
        q1Opt1: "Bleu",
        q1Opt2: "Violet",
        q1Opt3: "Orange",
        q2Text: "Que fait le bloc 'R√©p√©ter ind√©finiment' ?",
        q2Opt1: "Il arr√™te le programme",
        q2Opt2: "Il ex√©cute le code √† l'int√©rieur pour toujours",
        q2Opt3: "Il r√©p√®te une seule fois",
        quizCorrect: "Correct ! üéâ",
        quizWrong: "Essaie encore ! ‚ùå"
      }
    };

    let currentLang = 'fr';
    const langSwitcher = document.getElementById('lang-switcher');

    function setLanguage(lang) {
      const trans = translations[lang];
      document.querySelectorAll('[data-lang-key]').forEach(el => {
        const key = el.dataset.langKey;
        if (trans[key]) el.textContent = trans[key];
      });
      currentLang = lang;
      if(langSwitcher) langSwitcher.textContent = lang === 'fr' ? 'EN' : 'FR';
      document.documentElement.lang = lang;
      
      const detailBox = document.getElementById('comp-detail');
      if(detailBox.style.display === 'block') {
         const titleEl = document.getElementById('detail-title');
         const descEl = document.getElementById('detail-desc');
         const usageEl = document.getElementById('detail-usage');
         const realEl = document.getElementById('detail-real-life');
         if(titleEl.dataset.langKey) titleEl.textContent = trans[titleEl.dataset.langKey];
         if(descEl.dataset.langKey) descEl.textContent = trans[descEl.dataset.langKey];
         if(usageEl.dataset.langKey) usageEl.textContent = trans[usageEl.dataset.langKey];
         if(realEl.dataset.langKey) realEl.textContent = trans[realEl.dataset.langKey];
      }
    }

    if(langSwitcher) {
      langSwitcher.addEventListener('click', () => {
        setLanguage(currentLang === 'fr' ? 'en' : 'fr');
      });
    }

    function showDetail(type) {
      const detailBox = document.getElementById('comp-detail');
      const titleEl = document.getElementById('detail-title');
      const descEl = document.getElementById('detail-desc');
      const usageEl = document.getElementById('detail-usage');
      const realEl = document.getElementById('detail-real-life');
      
      let tKeyTitle = '', tKeyDesc = '', tKeyUsage = '', tKeyReal = '';
      if(type === 'sprite') { tKeyTitle = 'detailSpriteTitle'; tKeyDesc = 'detailSpriteDesc'; tKeyUsage = 'detailSpriteUsage'; tKeyReal = 'detailSpriteReal'; }
      if(type === 'blocks') { tKeyTitle = 'detailBlocksTitle'; tKeyDesc = 'detailBlocksDesc'; tKeyUsage = 'detailBlocksUsage'; tKeyReal = 'detailBlocksReal'; }
      if(type === 'stage') { tKeyTitle = 'detailStageTitle'; tKeyDesc = 'detailStageDesc'; tKeyUsage = 'detailStageUsage'; tKeyReal = 'detailStageReal'; }
      if(type === 'scripts') { tKeyTitle = 'detailScriptsTitle'; tKeyDesc = 'detailScriptsDesc'; tKeyUsage = 'detailScriptsUsage'; tKeyReal = 'detailScriptsReal'; }

      titleEl.setAttribute('data-lang-key', tKeyTitle);
      descEl.setAttribute('data-lang-key', tKeyDesc);
      usageEl.setAttribute('data-lang-key', tKeyUsage);
      realEl.setAttribute('data-lang-key', tKeyReal);
      
      titleEl.textContent = translations[currentLang][tKeyTitle];
      descEl.textContent = translations[currentLang][tKeyDesc];
      usageEl.textContent = translations[currentLang][tKeyUsage];
      realEl.textContent = translations[currentLang][tKeyReal];

      detailBox.style.display = 'block';
    }

    // Simulation Logic
    const cat = document.getElementById('cat');
    const bubble = document.getElementById('bubble');
    let catX = 0;
    let catRot = 0;

    function runCommand(cmd) {
      if(cmd === 'reset') {
        catX = 0; catRot = 0;
        cat.style.transform = `translate(0px, 0px) rotate(0deg)`;
        bubble.style.display = 'none';
      } else if(cmd === 'flag') {
        // Reset visual
        runCommand('reset');
      } else if(cmd === 'move') {
        catX += 50;
        cat.style.transform = `translate(${catX}px, 0px) rotate(${catRot}deg)`;
      } else if(cmd === 'turn') {
        catRot += 15;
        cat.style.transform = `translate(${catX}px, 0px) rotate(${catRot}deg)`;
      } else if(cmd === 'say') {
        bubble.style.display = 'block';
        setTimeout(() => bubble.style.display = 'none', 2000);
      } else if(cmd === 'loop') {
        // Simple dance animation
        let count = 0;
        const interval = setInterval(() => {
            count++;
            catRot = count % 2 === 0 ? 15 : -15;
            cat.style.transform = `translate(${catX}px, 0px) rotate(${catRot}deg)`;
            if(count >= 8) {
                clearInterval(interval);
                catRot = 0;
                cat.style.transform = `translate(${catX}px, 0px) rotate(0deg)`;
            }
        }, 250);
      }
    }

    function checkAnswer(btn, isCorrect) {
      const parent = btn.parentElement;
      const feedback = parent.querySelector('.feedback');
      
      if(isCorrect) {
        btn.classList.add('correct');
        feedback.textContent = translations[currentLang].quizCorrect;
        feedback.style.color = '#00b894';
      } else {
        btn.classList.add('wrong');
        feedback.textContent = translations[currentLang].quizWrong;
        feedback.style.color = '#d63031';
        setTimeout(() => btn.classList.remove('wrong'), 1000);
      }
    }
  </script>
</body>
</html>