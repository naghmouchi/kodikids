{% load static %}
<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quiz Roblox Studio ‚Äî Kodikids</title>
  <link rel="stylesheet" href="{% static 'email_api/css/style.css' %}">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üß±</text></svg>">
  <style>
    .tutorial-section { margin-bottom: 4rem; padding: 20px 0; }
    .tutorial-section h1 { color: #0b1724; margin-bottom: 1rem; }
    .lead { font-size: 1.2rem; color: #555; max-width: 800px; }
    .quiz-container { background: white; padding: 24px; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); margin-top: 20px; }
    .quiz-question { margin-bottom: 24px; border-bottom: 1px solid #eee; padding-bottom: 20px; }
    .quiz-question:last-child { border-bottom: none; padding-bottom: 0; }
    .question-text { font-weight: 700; font-size: 1.1rem; margin-bottom: 12px; color: #2d3436; }
    .quiz-opt { 
      display: block; width: 100%; text-align: left; padding: 12px 15px; 
      margin-bottom: 8px; border: 2px solid #e0e0e0; border-radius: 8px; 
      background: white; cursor: pointer; transition: all 0.2s; font-size: 1rem;
    }
    .quiz-opt:hover { border-color: #d63031; background: #ffecec; }
    .quiz-opt.correct { border-color: #00b894; background: #e6fffa; color: #006652; pointer-events: none; }
    .quiz-opt.wrong { border-color: #d63031; background: #ffecec; color: #d63031; }
    .feedback { font-size: 0.95rem; margin-top: 8px; font-weight: 600; min-height: 1.2em; }
  </style>
</head>
<body>
  <header>
    {% include "email_api/_header.html" %}
  </header>

  <main class="container" id="main">
    <section class="tutorial-section">
      <h1 data-lang-key="pageTitle" style="font-size: 2.5rem; font-weight: 800;">Quiz Roblox Studio</h1>
      <p class="lead" data-lang-key="pageDesc">Testez vos connaissances sur la cr√©ation de jeux avec Roblox. Pr√™t √† devenir un d√©veloppeur ?</p>
    </section>

    <section class="tutorial-section">
      <div class="quiz-container">
        <!-- Q1 -->
        <div class="quiz-question">
          <p class="question-text" data-lang-key="q1Text">Quel langage de programmation est utilis√© dans Roblox Studio ?</p>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q1Opt1">Python</button>
          <button class="quiz-opt" onclick="checkAnswer(this, true)" data-lang-key="q1Opt2">Lua</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q1Opt3">JavaScript</button>
          <p class="feedback"></p>
        </div>
        <!-- Q2 -->
        <div class="quiz-question">
          <p class="question-text" data-lang-key="q2Text">Qu'est-ce qu'une "Part" dans Roblox ?</p>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q2Opt1">Un joueur</button>
          <button class="quiz-opt" onclick="checkAnswer(this, true)" data-lang-key="q2Opt2">Un objet de base pour construire (brique, sph√®re, etc.)</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q2Opt3">Un script</button>
          <p class="feedback"></p>
        </div>
        <!-- Q3 -->
        <div class="quiz-question">
          <p class="question-text" data-lang-key="q3Text">O√π place-t-on le code qui s'ex√©cute sur le serveur ?</p>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q3Opt1">Dans un LocalScript</button>
          <button class="quiz-opt" onclick="checkAnswer(this, true)" data-lang-key="q3Opt2">Dans un Script</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q3Opt3">Dans un ModuleScript</button>
          <p class="feedback"></p>
        </div>
        <!-- Q4 -->
        <div class="quiz-question">
          <p class="question-text" data-lang-key="q4Text">Quel service contient tous les objets visibles dans le jeu ?</p>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q4Opt1">ReplicatedStorage</button>
          <button class="quiz-opt" onclick="checkAnswer(this, true)" data-lang-key="q4Opt2">Workspace</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q4Opt3">ServerScriptService</button>
          <p class="feedback"></p>
        </div>
        <!-- Q5 -->
        <div class="quiz-question">
          <p class="question-text" data-lang-key="q5Text">Comment rendre une "Part" transparente ?</p>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q5Opt1">En changeant sa couleur en blanc</button>
          <button class="quiz-opt" onclick="checkAnswer(this, true)" data-lang-key="q5Opt2">En r√©glant sa propri√©t√© "Transparency" √† 1</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q5Opt3">En la supprimant</button>
          <p class="feedback"></p>
        </div>
        <!-- Q6 -->
        <div class="quiz-question">
          <p class="question-text" data-lang-key="q6Text">Quel √©v√©nement se d√©clenche quand un joueur touche une "Part" ?</p>
          <button class="quiz-opt" onclick="checkAnswer(this, true)" data-lang-key="q6Opt1">.Touched</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q6Opt2">.Clicked</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q6Opt3">.MouseHover</button>
          <p class="feedback"></p>
        </div>
        <!-- Q7 -->
        <div class="quiz-question">
          <p class="question-text" data-lang-key="q7Text">Qu'est-ce que la "Toolbox" ?</p>
          <button class="quiz-opt" onclick="checkAnswer(this, true)" data-lang-key="q7Opt1">Une biblioth√®que de mod√®les, scripts et sons gratuits</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q7Opt2">Un outil pour changer la couleur des objets</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q7Opt3">La console d'erreurs</button>
          <p class="feedback"></p>
        </div>
        <!-- Q8 -->
        <div class="quiz-question">
          <p class="question-text" data-lang-key="q8Text">Comment s'appelle le personnage d'un joueur dans le jeu ?</p>
          <button class="quiz-opt" onclick="checkAnswer(this, true)" data-lang-key="q8Opt1">Character</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q8Opt2">Player</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q8Opt3">Humanoid</button>
          <p class="feedback"></p>
        </div>
        <!-- Q9 -->
        <div class="quiz-question">
          <p class="question-text" data-lang-key="q9Text">Quelle propri√©t√© d'une "Part" faut-il d√©sactiver pour qu'elle ne tombe pas ?</p>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q9Opt1">CanCollide</button>
          <button class="quiz-opt" onclick="checkAnswer(this, true)" data-lang-key="q9Opt2">Anchored</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q9Opt3">Locked</button>
          <p class="feedback"></p>
        </div>
        <!-- Q10 -->
        <div class="quiz-question">
          <p class="question-text" data-lang-key="q10Text">Comment publier son jeu pour que d'autres puissent y jouer ?</p>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q10Opt1">En l'enregistrant sur son ordinateur</button>
          <button class="quiz-opt" onclick="checkAnswer(this, true)" data-lang-key="q10Opt2">Via le menu Fichier > Publier sur Roblox</button>
          <button class="quiz-opt" onclick="checkAnswer(this, false)" data-lang-key="q10Opt3">En envoyant le fichier par email</button>
          <p class="feedback"></p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <span data-lang-key="footerText">¬© KODIKIDS ‚Äî Enseignement de la programmation, des robots et de l'IA</span>
    </div>
  </footer>

  <script>
    const translations = {
      en: {
        pageTitle: "Roblox Studio Quiz",
        pageDesc: "Test your knowledge of game creation with Roblox. Ready to become a developer?",
        footerText: "¬© KODIKIDS ‚Äî Teaching programming, robotics, and AI",
        q1Text: "What programming language is used in Roblox Studio?",
        q1Opt1: "Python", q1Opt2: "Lua", q1Opt3: "JavaScript",
        q2Text: "What is a 'Part' in Roblox?",
        q2Opt1: "A player", q2Opt2: "A basic building object (brick, sphere, etc.)", q2Opt3: "A script",
        q3Text: "Where do you put code that runs on the server?",
        q3Opt1: "In a LocalScript", q3Opt2: "In a Script", q3Opt3: "In a ModuleScript",
        q4Text: "Which service contains all visible objects in the game?",
        q4Opt1: "ReplicatedStorage", q4Opt2: "Workspace", q4Opt3: "ServerScriptService",
        q5Text: "How do you make a 'Part' transparent?",
        q5Opt1: "By changing its color to white", q5Opt2: "By setting its 'Transparency' property to 1", q5Opt3: "By deleting it",
        q6Text: "Which event fires when a player touches a 'Part'?",
        q6Opt1: ".Touched", q6Opt2: ".Clicked", q6Opt3: ".MouseHover",
        q7Text: "What is the 'Toolbox'?",
        q7Opt1: "A library of free models, scripts, and sounds", q7Opt2: "A tool to change object colors", q7Opt3: "The error console",
        q8Text: "What is a player's character called in the game?",
        q8Opt1: "Character", q8Opt2: "Player", q8Opt3: "Humanoid",
        q9Text: "Which property of a 'Part' must be enabled to prevent it from falling?",
        q9Opt1: "CanCollide", q9Opt2: "Anchored", q9Opt3: "Locked",
        q10Text: "How do you publish your game so others can play it?",
        q10Opt1: "By saving it to your computer", q10Opt2: "Via the File > Publish to Roblox menu", q10Opt3: "By sending the file via email",
        quizCorrect: "Correct! üéâ",
        quizWrong: "Try again! ‚ùå"
      },
      fr: {
        pageTitle: "Quiz Roblox Studio",
        pageDesc: "Testez vos connaissances sur la cr√©ation de jeux avec Roblox. Pr√™t √† devenir un d√©veloppeur ?",
        footerText: "¬© KODIKIDS ‚Äî Enseignement de la programmation, des robots et de l'IA",
        q1Text: "Quel langage de programmation est utilis√© dans Roblox Studio ?",
        q1Opt1: "Python", q1Opt2: "Lua", q1Opt3: "JavaScript",
        q2Text: "Qu'est-ce qu'une \"Part\" dans Roblox ?",
        q2Opt1: "Un joueur", q2Opt2: "Un objet de base pour construire (brique, sph√®re, etc.)", q2Opt3: "Un script",
        q3Text: "O√π place-t-on le code qui s'ex√©cute sur le serveur ?",
        q3Opt1: "Dans un LocalScript", q3Opt2: "Dans un Script", q3Opt3: "Dans un ModuleScript",
        q4Text: "Quel service contient tous les objets visibles dans le jeu ?",
        q4Opt1: "ReplicatedStorage", q4Opt2: "Workspace", q4Opt3: "ServerScriptService",
        q5Text: "Comment rendre une \"Part\" transparente ?",
        q5Opt1: "En changeant sa couleur en blanc", q5Opt2: "En r√©glant sa propri√©t√© \"Transparency\" √† 1", q5Opt3: "En la supprimant",
        q6Text: "Quel √©v√©nement se d√©clenche quand un joueur touche une \"Part\" ?",
        q6Opt1: ".Touched", q6Opt2: ".Clicked", q6Opt3: ".MouseHover",
        q7Text: "Qu'est-ce que la \"Toolbox\" ?",
        q7Opt1: "Une biblioth√®que de mod√®les, scripts et sons gratuits", q7Opt2: "Un outil pour changer la couleur des objets", q7Opt3: "La console d'erreurs",
        q8Text: "Comment s'appelle le personnage d'un joueur dans le jeu ?",
        q8Opt1: "Character", q8Opt2: "Player", q8Opt3: "Humanoid",
        q9Text: "Quelle propri√©t√© d'une \"Part\" faut-il activer pour qu'elle ne tombe pas ?",
        q9Opt1: "CanCollide", q9Opt2: "Anchored", q9Opt3: "Locked",
        q10Text: "Comment publier son jeu pour que d'autres puissent y jouer ?",
        q10Opt1: "En l'enregistrant sur son ordinateur", q10Opt2: "Via le menu Fichier > Publier sur Roblox", q10Opt3: "En envoyant le fichier par email",
        quizCorrect: "Correct ! üéâ",
        quizWrong: "Essaie encore ! ‚ùå"
      }
    };

    let currentLang = 'fr';
    const langSwitcher = document.getElementById('lang-switcher');

    function setLanguage(lang) {
      const trans = translations[lang];
      document.querySelectorAll('[data-lang-key]').forEach(el => {
        const key = el.dataset.langKey;
        if (trans[key]) el.textContent = trans[key];
      });
      currentLang = lang;
      if(langSwitcher) langSwitcher.textContent = lang === 'fr' ? 'EN' : 'FR';
      document.documentElement.lang = lang;
    }

    if(langSwitcher) {
      langSwitcher.addEventListener('click', () => {
        setLanguage(currentLang === 'fr' ? 'en' : 'fr');
      });
    }

    function checkAnswer(btn, isCorrect) {
      const parent = btn.parentElement;
      const feedback = parent.querySelector('.feedback');
      
      if(isCorrect) {
        btn.classList.add('correct');
        feedback.textContent = translations[currentLang].quizCorrect;
        feedback.style.color = '#00b894';
        parent.querySelectorAll('.quiz-opt').forEach(opt => {
            if (opt !== btn) opt.disabled = true;
        });
      } else {
        btn.classList.add('wrong');
        feedback.textContent = translations[currentLang].quizWrong;
        feedback.style.color = '#d63031';
        setTimeout(() => {
            btn.classList.remove('wrong');
            feedback.textContent = '';
        }, 1500);
      }
    }
  </script>
</body>
</html>